/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package ProyectoFinalVista;
import ProyectoFinalVista.InquilinoNuevo;
import ProyectoFinalVista.Vistas;
import static java.lang.Integer.parseInt;
import java.sql.Connection;
import javax.swing.DefaultCellEditor;
import javax.swing.JDesktopPane;
import javax.swing.JOptionPane;
import javax.swing.JTextField;
import javax.swing.SwingUtilities;
import javax.swing.table.DefaultTableModel;
import javax.swing.table.TableColumn;
import proyectofinal.Entidades.Garante;
import proyectofinal.Entidades.Inquilino;
import proyectofinal.accesoADatos.Conexion;
import proyectofinal.accesoADatos.GaranteData;
import proyectofinal.accesoADatos.InquilinoData;
/**
 *
 * @author User
 */
public class InquilinosVistas extends javax.swing.JInternalFrame {

       private DefaultTableModel modelo = new DefaultTableModel();
       private DefaultTableModel modelo2 = new DefaultTableModel();
    private Connection con= null;
    private InquilinoData id = new InquilinoData();
    private GaranteData G = new GaranteData();
    public InquilinosVistas() {
        initComponents();
        con= Conexion.getConexion();
        ArmarCabecera();
        ArmarCabecera2();
        TablaGarante();
    }
   

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel1 = new javax.swing.JPanel();
        btnBuscar = new javax.swing.JButton();
        txtBuscar = new javax.swing.JTextField();
        jScrollPane1 = new javax.swing.JScrollPane();
        jTable1 = new javax.swing.JTable();
        rdbIExistentes = new javax.swing.JRadioButton();
        rdbIbaja = new javax.swing.JRadioButton();
        btnNuevo = new javax.swing.JButton();
        btnEliminar1 = new javax.swing.JButton();
        Modificar1 = new javax.swing.JButton();
        btnVerMas = new javax.swing.JButton();
        jScrollPane2 = new javax.swing.JScrollPane();
        jTable2 = new javax.swing.JTable();
        jButton1 = new javax.swing.JButton();
        jButton2 = new javax.swing.JButton();
        btnVerGarante = new javax.swing.JButton();

        setClosable(true);

        jPanel1.setBackground(new java.awt.Color(255, 255, 255));

        btnBuscar.setText("Buscar");
        btnBuscar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnBuscarActionPerformed(evt);
            }
        });

        txtBuscar.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txtBuscarKeyTyped(evt);
            }
        });

        jTable1.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null, null, null},
                {null, null, null, null, null, null},
                {null, null, null, null, null, null},
                {null, null, null, null, null, null},
                {null, null, null, null, null, null},
                {null, null, null, null, null, null},
                {null, null, null, null, null, null},
                {null, null, null, null, null, null}
            },
            new String [] {
                "Nro", "Apellido", "Nombre", "DNI", "Detalle", "Tipo"
            }
        ));
        jScrollPane1.setViewportView(jTable1);
        if (jTable1.getColumnModel().getColumnCount() > 0) {
            jTable1.getColumnModel().getColumn(4).setPreferredWidth(150);
        }

        rdbIExistentes.setText("Inquilinos Existentes");
        rdbIExistentes.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                rdbIExistentesActionPerformed(evt);
            }
        });

        rdbIbaja.setText("Inquilinos de Baja");
        rdbIbaja.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                rdbIbajaActionPerformed(evt);
            }
        });

        btnNuevo.setText("Nuevo");
        btnNuevo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnNuevoActionPerformed(evt);
            }
        });

        btnEliminar1.setText("Eliminar");
        btnEliminar1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnEliminar1ActionPerformed(evt);
            }
        });

        Modificar1.setText("Modificar");
        Modificar1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                Modificar1ActionPerformed(evt);
            }
        });

        btnVerMas.setText("Ver Mas");
        btnVerMas.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnVerMasActionPerformed(evt);
            }
        });

        jTable2.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Title 1", "Title 2", "Title 3", "Title 4"
            }
        ));
        jScrollPane2.setViewportView(jTable2);

        jButton1.setText("Nuevo Garante");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        jButton2.setText("Modificar Garante");
        jButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton2ActionPerformed(evt);
            }
        });

        btnVerGarante.setText("Ver Mas Garante");
        btnVerGarante.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnVerGaranteActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(jScrollPane2)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addGap(10, 10, 10)
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jButton2)
                                    .addComponent(jButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 117, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(btnVerGarante)))
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addGap(37, 37, 37)
                                .addComponent(btnVerMas)))
                        .addGap(51, 51, 51))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 614, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addContainerGap(86, Short.MAX_VALUE))))
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(25, 25, 25)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(btnBuscar)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(txtBuscar, javax.swing.GroupLayout.PREFERRED_SIZE, 413, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGap(94, 94, 94)
                        .addComponent(rdbIExistentes)
                        .addGap(98, 98, 98)
                        .addComponent(rdbIbaja)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(139, 139, 139)
                .addComponent(btnEliminar1)
                .addGap(83, 83, 83)
                .addComponent(Modificar1)
                .addGap(86, 86, 86)
                .addComponent(btnNuevo)
                .addGap(0, 0, Short.MAX_VALUE))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(50, 50, 50)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnBuscar)
                    .addComponent(txtBuscar, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(rdbIExistentes)
                    .addComponent(rdbIbaja))
                .addGap(18, 18, 18)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 146, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(19, 19, 19)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel1Layout.createSequentialGroup()
                        .addComponent(jButton1)
                        .addGap(18, 18, 18)
                        .addComponent(jButton2)
                        .addGap(18, 18, 18)
                        .addComponent(btnVerGarante)
                        .addGap(18, 18, 18)
                        .addComponent(btnVerMas))
                    .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 161, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnEliminar1)
                    .addComponent(Modificar1)
                    .addComponent(btnNuevo))
                .addContainerGap(47, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void btnNuevoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnNuevoActionPerformed
        // TODO add your handling code here:
    setVisible(false);
    
    // Muestra la nueva ventana
    InquilinoNuevo nombre = new InquilinoNuevo();   
       JDesktopPane desktopPane = getDesktopPane(); 
       desktopPane.add(nombre);
    nombre.setVisible(true);
//     dispose();
    
 
      
      
    }//GEN-LAST:event_btnNuevoActionPerformed

    private void Modificar1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_Modificar1ActionPerformed
        // TODO add your handling code here:
        setVisible(false);
    
    // Muestra la nueva ventana
    InquilinoModificar nombre = new InquilinoModificar();   
       JDesktopPane desktopPane = getDesktopPane(); 
       desktopPane.add(nombre);
    nombre.setVisible(true);
//     dispose();
    }//GEN-LAST:event_Modificar1ActionPerformed

    private void rdbIExistentesActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_rdbIExistentesActionPerformed
        // TODO add your handling code here:
          rdbIbaja.setSelected(false);
        borrarFilas();
       
      
        if ( rdbIExistentes.isSelected() == true) {
            for (Inquilino in : id.obtenerLosInquilinos()) {
                modelo.addRow(new Object[]{in.getId_Inquilino(),in.getApellido(),in.getNombre(),in.getDNI(),in.getCUIL(),in.getDetalle(),in.getTipo()});
            }
    }//GEN-LAST:event_rdbIExistentesActionPerformed
    }
    private void rdbIbajaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_rdbIbajaActionPerformed
        // TODO add your handling code here:
        rdbIExistentes.setSelected(false);
         borrarFilas();
        
      
        if (  rdbIbaja.isSelected() == true) {
            for (Inquilino in : id.obtenerInquilinosdeBaja()) {
                modelo.addRow(new Object[]{in.getId_Inquilino(),in.getApellido(),in.getNombre(),in.getDNI(),in.getCUIL(),in.getDetalle(),in.getTipo()});
            }
    }                       
    }//GEN-LAST:event_rdbIbajaActionPerformed

    private void btnEliminar1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnEliminar1ActionPerformed
        // TODO add your handling code here:
           try {
            int filaS = jTable1.getSelectedRow();
            
            Inquilino in = new Inquilino((int) modelo.getValueAt(filaS, 0), (String) modelo.getValueAt(filaS, 1),(String) modelo.getValueAt(filaS, 2), (int) modelo.getValueAt(filaS, 3),(long) modelo.getValueAt(filaS, 4), (String) modelo.getValueAt(filaS, 5),(String) modelo.getValueAt(filaS, 6),true);
           int resp = JOptionPane.showConfirmDialog(this, "Estás seguro que quieres dar de Baja a este Inquilino?", "Dar de Baja", JOptionPane.YES_NO_OPTION);
        if (resp == JOptionPane.YES_OPTION){
          id.BajaInquilino(in.getId_Inquilino());
      
//        TablaGarante();
        }
            

        } catch (ArrayIndexOutOfBoundsException e) {
            JOptionPane.showMessageDialog(this, "No se ha seleccionado nada, intentar nuevamente");
        }
        
    }//GEN-LAST:event_btnEliminar1ActionPerformed

    private void btnBuscarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnBuscarActionPerformed
        // TODO add your handling code here:
        try{
        int buscar = parseInt(txtBuscar.getText());
        String ValidarDNI = txtBuscar.getText();
        if (ValidarDNI.length() != 8) {
            JOptionPane.showMessageDialog(null, "Para buscar debe ingresar el DNI del inquilino");
        } else {
            borrarFilas();
            if (id.BuscarInquilino(buscar).isEstado()) {
                rdbIExistentes.setSelected(true);
                rdbIbaja.setSelected(false);
            } else {
                rdbIExistentes.setSelected(false);
                rdbIbaja.setSelected(true);
            }
            int idI = id.BuscarInquilino(buscar).getId_Inquilino();
            String Apellido = id.BuscarInquilino(buscar).getApellido();
            String Nombre = id.BuscarInquilino(buscar).getNombre();
            int DNI = id.BuscarInquilino(buscar).getDNI();
            long CUIL = id.BuscarInquilino(buscar).getCUIL();
            String Detalle = id.BuscarInquilino(buscar).getDetalle();
            String Tipo = id.BuscarInquilino(buscar).getTipo();
            Inquilino in = new Inquilino(idI, Apellido, Nombre, DNI,CUIL, Detalle, Tipo);
            modelo.addRow(new Object[]{in.getId_Inquilino(), in.getApellido(), in.getNombre(), in.getDNI(),in.getCUIL(), in.getDetalle(), in.getTipo()});
            txtBuscar.setText("");
        }
        }catch(NullPointerException N){
            JOptionPane.showMessageDialog(null,"No existe ese Inquilino");
            txtBuscar.setText("");
        }
    }//GEN-LAST:event_btnBuscarActionPerformed

    private void txtBuscarKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtBuscarKeyTyped
 char c = evt.getKeyChar();
        if(c<'0' || c>'9') evt.consume();
        if(txtBuscar.getText().length() >= 8)
    {
        evt.consume();
    }        // TODO add your handling code here:
    }//GEN-LAST:event_txtBuscarKeyTyped

    private void btnVerMasActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnVerMasActionPerformed
        // TODO add your handling code here:
           try {
            Integer filaS = jTable1.getSelectedRow();
            if(filaS != null){
            Inquilino in = new Inquilino((int) modelo.getValueAt(filaS, 0), (String) modelo.getValueAt(filaS, 1),(String) modelo.getValueAt(filaS, 2), (int) modelo.getValueAt(filaS, 3),(long) modelo.getValueAt(filaS, 4), (String) modelo.getValueAt(filaS, 5),(String) modelo.getValueAt(filaS, 6),true);
           
       
          id.BuscarInquilino(in.getDNI());
         JOptionPane.showMessageDialog(this,  
    "Nro: " + in.getId_Inquilino() + "\n" +
    "Apellido: " + in.getApellido()+ "\n" +
    "Nombre: " + in.getNombre() +  "\n " +
    "DNI: " + in.getDNI() + "\n" +
    "CUIL: " + in.getCUIL() + "\n" +
    "Detalle: " + in.getDetalle() + "\n" +
    "Tipo: " + in.getTipo());  

            }
        
            

        } catch (ArrayIndexOutOfBoundsException e) {
            JOptionPane.showMessageDialog(this, "No se ha seleccionado nada, intentar nuevamente");
        }
    }//GEN-LAST:event_btnVerMasActionPerformed

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        // TODO add your handling code here:
         setVisible(false);
    
    // Muestra la nueva ventana
    GaranteNuevo nombre = new GaranteNuevo();   
       JDesktopPane desktopPane = getDesktopPane(); 
       desktopPane.add(nombre);
    nombre.setVisible(true);

    }//GEN-LAST:event_jButton1ActionPerformed

    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed
        // TODO add your handling code here:
         setVisible(false);
    
    // Muestra la nueva ventana
    GaranteModificar nombre = new GaranteModificar();   
       JDesktopPane desktopPane = getDesktopPane(); 
       desktopPane.add(nombre);
    nombre.setVisible(true);
    }//GEN-LAST:event_jButton2ActionPerformed

    private void btnVerGaranteActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnVerGaranteActionPerformed
        // TODO add your handling code here:
        try{
        Integer filasG = jTable2.getSelectedRow();
         
              Garante ga = new Garante((int) modelo2.getValueAt(filasG, 0), (String) modelo2.getValueAt(filasG, 1),(String) modelo2.getValueAt(filasG, 2), (int) modelo2.getValueAt(filasG, 3),(long) modelo2.getValueAt(filasG, 4), (String) modelo2.getValueAt(filasG, 5),(int) modelo2.getValueAt(filasG, 6));
           
       
          G.BuscarGarante(ga.getDNI());
         JOptionPane.showMessageDialog(this,  
    "Nro: " + ga.getID_Garante() + "\n" +
    "Apellido: " + ga.getApellido()+ "\n" +
    "Nombre: " + ga.getNombre() +  "\n " +
    "DNI: " + ga.getDNI() + "\n" +
    "CUIL: " + ga.getCUIL() + "\n" +
    "Detalle: " + ga.getDetalle() + "\n" +
    "Nro Inquilino: " + ga.getId_Inquilino());  
           } catch (ArrayIndexOutOfBoundsException e) {
            JOptionPane.showMessageDialog(this, "No se ha seleccionado nada, intentar nuevamente");
        }
    }//GEN-LAST:event_btnVerGaranteActionPerformed

    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton Modificar1;
    private javax.swing.JButton btnBuscar;
    private javax.swing.JButton btnEliminar1;
    private javax.swing.JButton btnNuevo;
    private javax.swing.JButton btnVerGarante;
    private javax.swing.JButton btnVerMas;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JTable jTable1;
    private javax.swing.JTable jTable2;
    private javax.swing.JRadioButton rdbIExistentes;
    private javax.swing.JRadioButton rdbIbaja;
    private javax.swing.JTextField txtBuscar;
    // End of variables declaration//GEN-END:variables

 private void ArmarCabecera(){
    modelo.addColumn("Nro");
    modelo.addColumn("Apellido");
    modelo.addColumn("Nombre");
    modelo.addColumn("DNI");
    modelo.addColumn("CUIL");
    modelo.addColumn("Detalles");
    modelo.addColumn("Tipo");

    jTable1.setModel(modelo);
    jTable1.setDefaultEditor(Object.class, null);

    // Programa una tarea para ejecutarse después de que se muestre la interfaz gráfica
    SwingUtilities.invokeLater(() -> {
        // Asegúrate de que haya al menos 5 columnas antes de intentar establecer el ancho
        if (jTable1.getColumnCount() >= 5) {
             jTable1.getColumnModel().getColumn(0).setPreferredWidth(10);
              jTable1.getColumnModel().getColumn(3).setPreferredWidth(50);
               jTable1.getColumnModel().getColumn(4).setPreferredWidth(58);
            jTable1.getColumnModel().getColumn(5).setPreferredWidth(100);
             jTable1.getColumnModel().getColumn(6).setPreferredWidth(30);
        }
    });
 }
      private void borrarFilas(){
        int f = jTable1.getRowCount()-1;
        for(;f>=0;f--){
              modelo.removeRow(f);
    }
    }

      
      
      private void TablaGarante(){
          
           borrarFilas2();
        
      
      
            for (Garante gar : G.obtenerGarante()) {
                modelo2.addRow(new Object[]{gar.getID_Garante(),gar.getApellido(),gar.getNombre(),gar.getDNI(),gar.getCUIL(),gar.getDetalle(),gar.getId_Inquilino()});
            }
                         
      }


      private void ArmarCabecera2(){
    modelo2.addColumn("Nro");
    modelo2.addColumn("Apellido");
    modelo2.addColumn("Nombre");
    modelo2.addColumn("DNI");
    modelo2.addColumn("CUIL");
    modelo2.addColumn("Detalles");
    modelo2.addColumn("Nro Inquilino");

    jTable2.setModel(modelo2);
    jTable2.setDefaultEditor(Object.class, null);

    // Programa una tarea para ejecutarse después de que se muestre la interfaz gráfica
    SwingUtilities.invokeLater(() -> {
        // Asegúrate de que haya al menos 5 columnas antes de intentar establecer el ancho
        if (jTable2.getColumnCount() >= 5) {
             jTable2.getColumnModel().getColumn(0).setPreferredWidth(10);
              jTable2.getColumnModel().getColumn(3).setPreferredWidth(50);
               jTable2.getColumnModel().getColumn(4).setPreferredWidth(58);
            jTable2.getColumnModel().getColumn(5).setPreferredWidth(100);
             jTable2.getColumnModel().getColumn(6).setPreferredWidth(60);
        }
    });
 }
      private void borrarFilas2(){
        int f = jTable2.getRowCount()-1;
        for(;f>=0;f--){
              modelo.removeRow(f);
    }
    }

}

